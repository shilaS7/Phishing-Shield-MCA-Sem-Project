<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>PhishShield</title>
  <meta content="" name="description">
  <meta content="" name="keywords">/

  <link href="static/assets/img/newlogo.jpg" rel="icon">
  <link href="static/assets/img/newlogo.jpg" rel="apple-touch-icon">

  <link href="static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="static/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="static/assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="static/assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="static/assets/vendor/aos/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link href="static/style.css" rel="stylesheet">
</head>

<body>

  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">
      
      <h1 class="logo mr-auto"><a href="{{ url_for('home') }}">PhishShield</a></h1>
      <nav class="nav-menu d-none d-lg-block">
        <ul>
          <li class="active"><a href="{{ url_for('home') }}">Home</a></li>
          <li><a href="{{ url_for('about') }}">About</a></li>
          <li><a href="{{ url_for('usecases') }}">Usecases</a></li>


        </ul>
      </nav>



    </div>
  </header>

  <div class="main-content">
  <section id="hero" class="d-flex align-items-center">

    <div class="container d-flex flex-column align-items-center justify-content-center" data-aos="fade-up">
      <h1>PHISHING WEBSITE DETECTION</h1>
      
      <!-- Mode Selection Tabs -->
      <div class="mode-selector mb-4">
        <button type="button" class="mode-btn active" onclick="switchMode('single')">Single URL</button>
        <button type="button" class="mode-btn" onclick="switchMode('multiple')">Multiple URLs</button>
      </div>
      
      <!-- Single URL Form -->
      <form action="/result" method="POST" role="form" class="form" id="singleForm">
        <div class="row no-gutters">
          <div class="col-md-6 form-group pr-md-1">
            <input type="url" name="name" class="form-control" id="singleUrl" placeholder="Enter a URL link in format http or https" required>
          </div>
        </div>
        <div class="text-center"><button type="submit">Scan URL</button></div>
      </form>
      
       <!-- Multiple URLs Form -->
       <form action="/result" method="POST" role="form" class="form" id="multipleForm" style="display: none;">
         <div class="row no-gutters">
           <div class="col-md-12 form-group">
             <div class="url-input-container">
               <label for="multipleUrls" class="input-label">
                 <i class="fa fa-globe"></i>
                 Enter URLs to Scan
               </label>
               <textarea name="urls" class="form-control url-textarea" id="multipleUrls" rows="5" 
                         placeholder="Enter multiple URLs (one per line):&#10;https://www.google.com&#10;https://www.example.com&#10;https://www.github.com&#10;https://www.stackoverflow.com&#10;https://www.microsoft.com"></textarea>
               <div class="input-footer">
                 <div class="url-counter">
                   <span id="urlCount">0</span> / 10 URLs
                 </div>
                 <small class="form-text text-muted">
                   <i class="fa fa-info-circle"></i>
                   Enter one URL per line. Maximum 10 URLs allowed.
                 </small>
               </div>
             </div>
           </div>
         </div>
         <div class="text-center">
           <button type="submit" class="btn-scan-multiple">
             <i class="fa fa-search"></i>
             <span>Scan All URLs</span>
             <div class="btn-loading" style="display: none;">
               <i class="fa fa-spinner fa-spin"></i>
             </div>
           </button>
         </div>
       </form>
          <!-- Single URL Results -->
          {% if name %}
        <div class="result-container mt-4">
          <div class="result-card">
            <div class="result-header">
              <h3>{{name[0]}}</h3>
              <h4 class="{% if name[1] == 'Safe' %}text-success{% else %}text-danger{% endif %}">
                Website is {{name[1]}} to use
              </h4>
            </div>
            
            {% if name|length > 4 %}
            <div class="confidence-display">
              <span class="confidence-label">Confidence:</span>
              <span class="confidence-value">{{name[4]}}%</span>
              <div class="progress-modern">
                <div class="progress-bar-modern {% if name[1] == 'Safe' %}safe{% else %}danger{% endif %}" 
                     style="width: {{name[4]}}%">
                </div>
              </div>
            </div>
            {% endif %}
            
            <div class="action-section">
              {% if analysis_id %}
              <a href="{{ url_for('detailed_report', analysis_id=analysis_id) }}" class="btn-detailed">
                <i class="fa fa-chart-bar"></i> View Detailed Report
              </a>
              {% endif %}
            </div>
            </div>
          </div>
          {% endif %}
          
          <!-- Multiple URLs Results -->
          {% if multiple_results %}
          <div class="multiple-results-container mt-4">
            <h3 class="text-center mb-4">Scan Results</h3>
            {% if warning %}
            <div class="alert alert-warning text-center">{{ warning }}</div>
            {% endif %}
            
            <div class="results-grid">
              {% for result in multiple_results %}
              <div class="result-card-small">
                <div class="result-header-small">
                  <h5 class="url-text">{{ result.url }}</h5>
                  <span class="status-badge {% if result.status == 'Safe' %}safe{% elif result.status == 'Not Safe' %}danger{% else %}error{% endif %}">
                    {{ result.status }}
                  </span>
                </div>
                
                {% if result.status != 'Error' %}
                <div class="confidence-display-small">
                  <span class="confidence-label">Confidence:</span>
                  <span class="confidence-value">{{ "%.1f"|format(result.confidence_safe) }}%</span>
                  <div class="progress-small">
                    <div class="progress-bar-small {% if result.status == 'Safe' %}safe{% else %}danger{% endif %}" 
                         style="width: {{ result.confidence_safe }}%">
                    </div>
                  </div>
                </div>
                
                {% if result.analysis_id %}
                <div class="action-section-small">
                  <a href="{{ url_for('detailed_report', analysis_id=result.analysis_id) }}" class="btn-detailed-small">
                    <i class="fa fa-chart-bar"></i> Details
                  </a>
                </div>
                {% endif %}
                {% else %}
                <div class="error-message">
                  <i class="fa fa-exclamation-triangle"></i> {{ result.error }}
                </div>
                {% endif %}
              </div>
              {% endfor %}
            </div>
          </div>
          {% endif %}
          
          <!-- Error Message -->
          {% if error %}
          <div class="alert alert-danger text-center mt-4">{{ error }}</div>
          {% endif %}
      </form>
      
      {% if not name %}
      <div class="image-container">
        <img src="static/assets/img/screenshot2.png" class="img-fluid hero-img" alt="" data-aos="zoom-in" data-aos-delay="150">
      </div>
      {% endif %}
               </div>
           </section>
  </div>

   
   <footer id="footer">
    <div class="container d-md-flex">
      <div class="text-center text-md-center">
        <p style="margin: 0; font-weight: 500; font-size: 11px;">Second Year Project &copy; 2025.All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <script src="static/assets/vendor/jquery/jquery.min.js"></script>
  <script src="static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="static/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="static/assets/vendor/venobox/venobox.min.js"></script>
  <script src="static/assets/vendor/aos/aos.js"></script>
  <script>
    function scrolldiv() {
        var elem = document.getElementById("about");
        elem.scrollIntoView();
    }
    
    function switchMode(mode) {
        // Update button states
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // Show/hide forms
        if (mode === 'single') {
            document.getElementById('singleForm').style.display = 'block';
            document.getElementById('multipleForm').style.display = 'none';
        } else {
            document.getElementById('singleForm').style.display = 'none';
            document.getElementById('multipleForm').style.display = 'block';
        }
    }
    
     // Auto-resize textarea and URL counter
     document.addEventListener('DOMContentLoaded', function() {
         const textarea = document.getElementById('multipleUrls');
         const urlCount = document.getElementById('urlCount');
         
         if (textarea && urlCount) {
             function updateUrlCount() {
                 const urls = textarea.value.split('\n').filter(url => url.trim() !== '');
                 urlCount.textContent = Math.min(urls.length, 10);
                 
                 // Update counter color based on limit
                 if (urls.length > 10) {
                     urlCount.style.color = '#dc3545';
                 } else if (urls.length > 7) {
                     urlCount.style.color = '#ffc107';
                 } else {
                     urlCount.style.color = '#28a745';
                 }
             }
             
             textarea.addEventListener('input', function() {
                 // Auto-resize
                 this.style.height = 'auto';
                 this.style.height = this.scrollHeight + 'px';
                 
                 // Update URL count
                 updateUrlCount();
             });
             
             // Initial count
             updateUrlCount();
         }
         
         // Add loading state to multiple URL form
         const multipleForm = document.getElementById('multipleForm');
         if (multipleForm) {
             multipleForm.addEventListener('submit', function() {
                 const submitBtn = this.querySelector('.btn-scan-multiple');
                 const btnText = submitBtn.querySelector('span');
                 const btnLoading = submitBtn.querySelector('.btn-loading');
                 
                 // Show loading state
                 submitBtn.disabled = true;
                 btnText.style.display = 'none';
                 btnLoading.style.display = 'inline-block';
                 
                 // Add loading animation to textarea
                 const textarea = this.querySelector('#multipleUrls');
                 textarea.style.opacity = '0.6';
                 textarea.disabled = true;
             });
         }
     });
  </script>

  <script src="static/assets/js/main.js"></script>

</body>

</html>
